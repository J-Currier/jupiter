{"version":3,"sources":["components/grid/gridComp.js","images/btnTransArrow.svg","images/btnTrans.svg","components/translation/translationComp.js","images/btnRotCounter.svg","images/btnRot.svg","components/rotation/rotationComp.js","images/btnReflectX.svg","images/btnReflectY.svg","images/btnReflect.svg","components/reflection/reflectionComp.js","components/Sideboard/SideboardComp.js","components/shapes/shapesFunctions.js","components/shapes/circleComp.js","components/shapes/squareComp.js","components/shapes/triangleComp.js","components/shapes/starComp.js","components/shapes/rectangleComp.js","images/btnClear.svg","images/btnRun.svg","components/callStack/callStack.js","config.js","scripts/fetch.js","components/login/loginComp.js","images/Icon_menu.svg","components/login/menuComp.js","scripts/math.js","App.js","serviceWorker.js","index.js"],"names":["Grid","props","useEffect","canvas","document","getElementById","context","getContext","width","height","bw","bh","lineWidth","x","moveTo","lineTo","y","strokeStyle","stroke","drawBoard","beginPath","font","fillStyle","fillText","axesNumbers","className","id","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","strokeLinecap","strokeLinejoin","ry","rx","cy","cx","fill","strokeWidth","d","_ref","svgRef","title","viewBox","ref","ForwardRef","forwardRef","transform","Translation","handleClick","e","desc","translationFactor","currentTarget","name","para","buttonInfo","values","addToStack","GeneralTranslation","translate","up","class","left","right","down","buttons","push","onClick","alt","type","min","max","onChange","handleChange","value","Rotation","options","angle","rotationMag","pivotPointX","pivotPointY","direction","GeneralRotate","rotate","pivotPointx","pivotPointy","Reflection","selector","lineOfReflection","axis","GeneralReflect","reflect","Sideboard","useState","tab","setTab","tabIndex","shapesFunctions","drawAnchorDot","centerX","centerY","radius","fillColour","borderColour","borderWidth","arc","Math","PI","determineCorners","anchorX","anchorY","orientation","orientation1","helper","corner","cornerX","cornerY","Circle","shapeInfo","position","shapeClassName","size","anchorDotSize","cornerArray","moveBack_shakeVertical","moveBack_shakeHorizontal","clearRect","drawCircle","Square","drawSquare","Triangle","drawTriangle","Star","drawStar","Rectangle","round","drawRectangle","opacity","CallCard","Svg","image","CallStack","callStackComps","clearStack","runStack","agent","https","Agent","rejectUnauthorized","baseUrl","fetchJson","route","a","method","body","init","headers","JSON","stringify","fetch","response","json","message","Error","tokenInfo","idToken","status","Login","setIsSignedIn","setUser","setCurrentLevel","online","setOnline","username","setUsername","password","setPassword","usernameMsg","setUsernameMsg","passwordMsg","setPasswordMsg","loginMsg","setLoginMsg","startSession","userObject","userName","jsonPlayer","jsonLevel","levelId","verifyToken","checkAud","aud","iss","checkIssuer","sub","handleSuccess","googleUser","getAuthResponse","id_token","googleId","handleFailure","handleGuest","Date","now","random","gapiSetup","window","gapi","load","auth2","client_id","fetch_basic_profile","scope","longtitle","theme","onsuccess","onfailure","signin2","render","interval","setInterval","clearInterval","offlineLogin","htmlFor","autoComplete","valid","includes","test","charAt","validateUsername","validatePassword","countMatchingObjects","array","compareKey","matchValue","count","getScore","attemptsJson","runsJson","scores","reduce","cumulator","v","countRuns","score","playerId","sort","b","Number","Menu","menuOpen","setMenuOpen","scoreOpen","setScoreOpen","scoreDisplay","setScoreDisplay","scoreTable","scoreRows","slice","map","user","prev","getAuthInstance","signOut","setTimeout","highScoresBtn","text","restartBtn","handleRestart","logoutBtn","previous","mathFunctions","shapeMaker","floor","playerPosition","deltaX","deltaY","magnitude","Game","shapesArray","randomShape","shape","randomOrientation","startOrientation","endOrientation","startAnchorX","startAnchorY","playerPositionsArray","setPlayerPositionsArray","playerAcceptablePositionsArray","setPlayerAcceptablePositionsArray","setPlayerPosition","endAnchorX","endAnchorY","pow","targetPosition","targetFillColour","setShapeClassName","setTranslationFactor","setPivotPointx","setPivotPointy","setRotationMag","transformFunctions","setCallStackComps","counter","setCounter","isSignedIn","currentLevel","attempt","setAttempt","postAttempt","player","changeClass","newName","currentPlayerPosition","newPlayerPosition","pop","ShapeComp","circle","square","triangle","rectangle","star","playerComp","targetComp","attemptBody","StartPosition","TargetPosition","attemptJson","postRun","success","callStackFunctions","runBody","AttemptId","Functions","PlayerPositions","PlayerAcceptablePositions","recursiveFunc","fx","newArr","shift","resetPlayer","prevCounter","newComp","alert","handleReset","App","Boolean","location","hostname","match","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4d9b7a5b.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport './gridComp.css';\r\n\r\nfunction Grid(props) {\r\n    useEffect(() => {\r\n        const canvas = document.getElementById(\"myGrid\");\r\n        const context = canvas.getContext(\"2d\");\r\n        canvas.width = 2000;\r\n        canvas.height = 2000;\r\n        const bw = canvas.width;\r\n        const bh = canvas.height;\r\n        context.lineWidth = 5;\r\n\r\n        function drawBoard(context = document.getElementById(\"myGrid\").getContext(\"2d\")){\r\n            for (let x = 0; x <= bw; x += 100) {\r\n                context.moveTo(x, 0);\r\n                context.lineTo(x, bh);\r\n            }\r\n\r\n            for (let y = 0; y <= bh; y += 100) {\r\n                context.moveTo(0, y);\r\n                context.lineTo(bw, y);\r\n            }\r\n            context.strokeStyle = \"black\" ;\r\n            context.stroke();\r\n        }\r\n\r\n        function drawAxis(){\r\n                context.beginPath();\r\n                context.strokeStyle = 'red';\r\n                context.moveTo(1000, 0);\r\n                context.lineTo(1000, 2000);\r\n                context.stroke();\r\n\r\n                context.beginPath();\r\n                context.strokeStyle = 'red';\r\n                context.moveTo(0, 1000);\r\n                context.lineTo(2000, 1000);\r\n                context.stroke();\r\n        }\r\n\r\n        function axesNumbers() {\r\n            context.font = \"65px Calibri bold\";\r\n            context.fillStyle = \"white\";\r\n            for (let x = 100; x <= 900; x += 100) {\r\n                if (x !==1000) context.fillText(`${(x/100)-10}`, x-15, 985);\r\n            }\r\n            for (let x = 1100; x <= 1900; x += 100) {\r\n                if (x !==1000) context.fillText(`${(x/100)-10}`, x+10, 1060);\r\n            }\r\n            for (let y = 100; y <= 900; y += 100) {\r\n                if (y !==1000) context.fillText(`${10-(y/100)}`, 1015, y+15);\r\n            }\r\n            for (let y = 1100; y <= 1900; y += 100) {\r\n                if (y !==1000) context.fillText(`${10-(y/100)}`, 930, y+15);\r\n            }\r\n        }\r\n        \r\n        drawBoard();    \r\n        drawAxis();\r\n        axesNumbers();  \r\n    }, []);\r\n    return (\r\n      <div className=\"grid\">\r\n          <canvas id=\"myGrid\"></canvas>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport {Grid}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"#1d219d\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnTransArrow\",\n  ry: 24.414,\n  rx: 25.043,\n  cy: 26.414,\n  cx: 27.043,\n  fill: \"#e2ab0b\",\n  strokeWidth: 4\n}), React.createElement(\"path\", {\n  d: \"M14.858 31.767l12.084-12.589 12.084 13.366\",\n  fill: \"none\",\n  strokeWidth: 5\n}));\n\nvar SvgBtnTransArrow = function SvgBtnTransArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 204.42,\n    height: 199.665,\n    viewBox: \"0 0 54.086 52.828\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnTransArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnTransArrow.8a3c2e53.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-8.792 -8.799)\",\n  stroke: \"#1d219d\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnTrans\",\n  cx: 35.835,\n  cy: 35.213,\n  rx: 25.043,\n  ry: 24.414,\n  fill: \"#e2ab0b\",\n  strokeWidth: 4\n}), React.createElement(\"path\", {\n  d: \"M27.747 31.925l8.147-8.37 8.147 8.886m3.037-4.537l8.709 7.829-9.247 7.828M24.392 27.904l-8.71 7.829 9.248 7.828m19.11-4.945l-8.146 8.369-8.147-8.886\",\n  fill: \"none\",\n  strokeWidth: 3\n}));\n\nvar SvgBtnTrans = function SvgBtnTrans(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 54.086 52.828\",\n    height: 199.665,\n    width: 204.42,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnTrans, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnTrans.8e6dfaed.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { ReactComponent as ArrowSvg } from \"../../images/btnTransArrow.svg\";\r\nimport { ReactComponent as GeneralTranslation } from \"../../images/btnTrans.svg\";\r\n\r\nimport \"./translation.css\";\r\n\r\nfunction Translation(props) {\r\n  function handleClick(e) {\r\n    // props.translate(e, ...buttonInfo[e.currentTarget.name].values);\r\n    const desc = `Move shape ${props.translationFactor} units ${e.currentTarget.name}`\r\n    let para = [e, ...buttonInfo[e.currentTarget.name].values]\r\n    props.addToStack(GeneralTranslation, desc, props.translate, para)\r\n  }\r\n\r\n  const buttonInfo = {\r\n    up: {values: [0, -100], class: \"upBtn\"},\r\n    left: {values: [-100, 0], class: \"leftBtn\"},\r\n    right: {values: [100, 0], class: \"rightBtn\"},\r\n    down: {values: [0, 100], class: \"downBtn\"},\r\n  };\r\n\r\n  const buttons = [];\r\n  for (let key in buttonInfo) {\r\n    buttons.push(\r\n      <button\r\n        onClick={handleClick}\r\n        key={key}\r\n        name={key}\r\n        alt={`${key} button`}\r\n        id={key}\r\n        className=\"controlBtn iconBtn\"\r\n      >\r\n        <ArrowSvg \r\n          className={buttonInfo[key].class}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div id=\"translation\" className=\"tab\">\r\n      <div className=\"controls\">\r\n        <input\r\n          name=\"setTranslationFactor\"\r\n          type=\"number\"\r\n          min=\"0\"\r\n          max=\"18\"\r\n          onChange={props.handleChange}\r\n          value={props.translationFactor}\r\n          id=\"factorBox\"\r\n          className=\"controlInputNum\"\r\n        />\r\n        {buttons}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Translation;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-77.848 -138.455)\",\n  stroke: \"#1d219d\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnRotCounter\",\n  ry: 24.414,\n  rx: 25.043,\n  cy: 164.869,\n  cx: 104.891,\n  fill: \"#e2ab0b\"\n}), React.createElement(\"g\", {\n  fill: \"none\"\n}, React.createElement(\"path\", {\n  transform: \"rotate(-71.124 -17.669 50.614) skewX(-.078)\",\n  d: \"M-94.236 193.357a13.492 13.536 0 0115.346-1.116 13.492 13.536 0 016.409 14.034 13.492 13.536 0 01-10.864 10.932\"\n}), React.createElement(\"path\", {\n  d: \"M96.728 165.076l-4.252 5.66-5.273-5.186\"\n})));\n\nvar SvgBtnRotCounter = function SvgBtnRotCounter(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 204.421,\n    height: 199.666,\n    viewBox: \"0 0 54.086 52.828\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnRotCounter, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnRotCounter.904778e9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-55.156 -96.007)\",\n  stroke: \"#1d219d\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnRot\",\n  cx: 82.199,\n  cy: 122.421,\n  rx: 25.043,\n  ry: 24.414,\n  fill: \"#e2ab0b\",\n  strokeWidth: 4\n}), React.createElement(\"g\", {\n  strokeWidth: 3.619,\n  fill: \"none\"\n}, React.createElement(\"path\", {\n  transform: \"matrix(.16187 .81166 -.81455 .1613 -9.194 35.287)\",\n  d: \"M115.113-100.51a16.57 16.57 0 0118.908-1.33 16.57 16.57 0 017.787 17.282 16.57 16.57 0 01-13.523 13.282 16.57 16.57 0 01-17.139-8.097\"\n}), React.createElement(\"path\", {\n  d: \"M101.064 100.59l-1.02-8.634-8.769 2.253M119.303 100.59l1.02-8.634 8.77 2.253\",\n  transform: \"matrix(.83048 0 0 .82753 -9.194 35.287)\"\n})));\n\nvar SvgBtnRot = function SvgBtnRot(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 204.421,\n    height: 199.666,\n    viewBox: \"0 0 54.086 52.828\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnRot, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnRot.fcbf8090.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { ReactComponent as RotateCounterSvg } from \"../../images/btnRotCounter.svg\";\r\nimport { ReactComponent as GeneralRotate } from \"../../images/btnRot.svg\";\r\n\r\nimport \"./rotation.css\";\r\n\r\nfunction Rotation(props) {\r\n  const angles = [90, 180, 270];\r\n  const options = [];\r\n  for (const angle of angles) {\r\n    options.push(<option key={angle}>{angle + \"°\"}</option>);\r\n  }\r\n\r\n  const handleClick = (\r\n    e,\r\n    rotationMag,\r\n    pivotPointX,\r\n    pivotPointY,\r\n    direction\r\n  ) => {\r\n        \r\n    // props.rotate(e, rotationMag, pivotPointX, pivotPointY, direction);\r\n    const para = [e, rotationMag, pivotPointX, pivotPointY, direction]\r\n    const desc = `Rotate the shape ${rotationMag} ${direction ? 'counter clockwise' : 'clockwise'} around point (${pivotPointX}, ${pivotPointY})`;\r\n    props.addToStack(GeneralRotate, desc, props.rotate, para);\r\n  };\r\n\r\n  return (\r\n    <div id=\"rotation\" className=\"tab\">\r\n      <div className=\"controls\">\r\n        <div id=\"pivotCoords\">\r\n          <input\r\n            id=\"setPivotPointx\"\r\n            key=\"setPivotPointx\"\r\n            className=\"controlInputNum\"\r\n            type=\"number\"\r\n            name=\"setPivotPointx\"\r\n            value={props.pivotPointx}\r\n            onChange={props.handleChange}\r\n          ></input>\r\n          <input\r\n            id=\"setPivotPointy\"\r\n            key=\"setPivotPointy\"\r\n            className=\"controlInputNum\"\r\n            type=\"number\"\r\n            name=\"setPivotPointy\"\r\n            value={props.pivotPointy}\r\n            onChange={props.handleChange}\r\n          ></input>\r\n        </div>\r\n        <div id=\"rotateDirection\">\r\n          <button\r\n            id=\"rotate-left\"\r\n            key=\"rotate-left\"\r\n            name=\"rotate-left\"\r\n            className=\"controlBtn iconBtn\"\r\n            onClick={e =>\r\n              handleClick(\r\n                e,\r\n                props.rotationMag,\r\n                props.pivotPointx,\r\n                props.pivotPointy,\r\n                true\r\n              )\r\n            }\r\n          >\r\n            <RotateCounterSvg \r\n              alt=\"Counterclockwise Rotate Icon\" \r\n            />\r\n          </button>\r\n          <select\r\n            id=\"rotateDrop\"\r\n            name=\"setRotationMag\"\r\n            className=\"controlSelect\"\r\n            value={props.rotationMag}\r\n            onChange={props.handleChange}\r\n          >\r\n            {options}\r\n          </select>\r\n          <button\r\n            id=\"rotate-right\"\r\n            key=\"rotate-right\"\r\n            name=\"rotate-right\"\r\n            className=\"controlBtn iconBtn\"\r\n            onClick={e =>\r\n              handleClick(\r\n                e,\r\n                props.rotationMag,\r\n                props.pivotPointx,\r\n                props.pivotPointy,\r\n                false\r\n              )\r\n            }\r\n          >\r\n            <RotateCounterSvg \r\n              alt=\"Clockwise Rotate Icon\" \r\n              className=\"reflectXBtn\"\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rotation;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"#1d219d\",\n  strokeLinecap: \"round\",\n  transform: \"translate(-119.68 -106.844)\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnReflectX\",\n  ry: 24.414,\n  rx: 25.043,\n  cy: -146.095,\n  cx: 133.887,\n  transform: \"rotate(90)\",\n  fill: \"#e2ab0b\",\n  strokeWidth: 4,\n  strokeLinejoin: \"round\"\n}), React.createElement(\"g\", {\n  fill: \"none\"\n}, React.createElement(\"path\", {\n  d: \"M139.643 140.126h15.987l-15.987 9.513z\",\n  strokeWidth: 4,\n  strokeLinejoin: \"round\"\n}), React.createElement(\"g\", {\n  strokeWidth: 2.021\n}, React.createElement(\"path\", {\n  d: \"M164.196 133.958h-7.404M149.651 133.958h-7.404M135.106 133.958h-7.404\",\n  strokeWidth: 1.99971887\n})), React.createElement(\"path\", {\n  d: \"M139.643 127.648h15.987l-15.987-9.513z\",\n  strokeWidth: 4,\n  strokeLinejoin: \"round\"\n})));\n\nvar SvgBtnReflectX = function SvgBtnReflectX(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 52.828 54.086\",\n    height: 204.421,\n    width: 199.666,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnReflectX, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnReflectX.8f2c5c1b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"#1d219d\",\n  strokeLinecap: \"round\",\n  transform: \"translate(-146.904 -72.953)\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnReflectY\",\n  cx: 173.947,\n  cy: 99.368,\n  rx: 25.043,\n  ry: 24.414,\n  fill: \"#e2ab0b\",\n  strokeWidth: 4,\n  strokeLinejoin: \"round\"\n}), React.createElement(\"g\", {\n  fill: \"none\"\n}, React.createElement(\"path\", {\n  d: \"M180.187 105.82V89.832l9.512 15.986z\",\n  strokeWidth: 4,\n  strokeLinejoin: \"round\"\n}), React.createElement(\"g\", {\n  strokeWidth: 2.021\n}, React.createElement(\"path\", {\n  d: \"M174.018 81.266v7.405M174.018 95.811v7.405M174.018 110.356v7.405\",\n  strokeWidth: 1.99971887\n})), React.createElement(\"path\", {\n  d: \"M167.708 105.82V89.832l-9.512 15.986z\",\n  strokeWidth: 4,\n  strokeLinejoin: \"round\"\n})));\n\nvar SvgBtnReflectY = function SvgBtnReflectY(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 54.086 52.828\",\n    height: 199.666,\n    width: 204.421,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnReflectY, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnReflectY.cdf13d4d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-146.904 -8.799)\",\n  stroke: \"#1d219d\",\n  strokeLinecap: \"round\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnReflect\",\n  ry: 24.414,\n  rx: 25.043,\n  cy: 35.213,\n  cx: 173.947,\n  fill: \"#e2ab0b\",\n  strokeWidth: 4,\n  strokeLinejoin: \"round\"\n}), React.createElement(\"g\", {\n  fill: \"none\"\n}, React.createElement(\"g\", {\n  strokeWidth: 2\n}, React.createElement(\"path\", {\n  d: \"M173.947 16.772v7.483M173.947 31.471v7.484M173.947 46.171v7.484\"\n})), React.createElement(\"path\", {\n  d: \"M167.858 39.976v11.788l-6.737-11.788z\",\n  strokeWidth: 3,\n  strokeLinejoin: \"round\"\n}), React.createElement(\"g\", {\n  strokeWidth: 2\n}, React.createElement(\"path\", {\n  d: \"M192.39 35.213h-7.484M177.69 35.213h-7.484M162.99 35.213h-7.484\"\n})), React.createElement(\"path\", {\n  d: \"M179.642 30.067V18.28l6.737 11.788z\",\n  strokeWidth: 3,\n  strokeLinejoin: \"round\"\n})));\n\nvar SvgBtnReflect = function SvgBtnReflect(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 204.421,\n    height: 199.666,\n    viewBox: \"0 0 54.086 52.828\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnReflect, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnReflect.a48eb0e8.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport \"./reflection.css\";\r\nimport { ReactComponent as ReflectXSvg } from \"../../images/btnReflectX.svg\";\r\nimport { ReactComponent as ReflectYSvg } from \"../../images/btnReflectY.svg\";\r\nimport { ReactComponent as GeneralReflect } from \"../../images/btnReflect.svg\";\r\n\r\n\r\nfunction Reflection(props) {\r\n  const selector = [];\r\n  for (let i = 9; i >= -9; i--) {\r\n    selector.push(<option key={i}>{i}</option>);\r\n  }\r\n\r\n  const handleClick = (e, lineOfReflection, axis) => {\r\n    // props.reflect(e, lineOfReflection, axis);\r\n    const desc = `Reflect the shape over ${axis ? 'X': 'Y'} = ${lineOfReflection}`;\r\n    const para = [e, lineOfReflection, axis]\r\n    props.addToStack(GeneralReflect, desc, props.reflect, para);\r\n  };\r\n\r\n  return (\r\n    <div id=\"reflection\" className=\"tab\">\r\n      <div className=\"controls\">\r\n        <button\r\n          id=\"reflectXBtn\"\r\n          key=\"reflectXBtn\"\r\n          name=\"reflectX\"\r\n          className=\"controlBtn iconBtn\"\r\n          onClick={e => handleClick(e, props.lineOfReflection, false)}\r\n        >\r\n          <ReflectXSvg alt=\"X-reflection icon\" />\r\n        </button>\r\n        <select\r\n          id=\"reflectDrop\"\r\n          name=\"setLineOfReflection\"\r\n          value={props.lineOfReflection}\r\n          className=\"controlSelect\"\r\n          onChange={props.handleChange}\r\n        >\r\n          {selector}\r\n        </select>\r\n        <button\r\n          id=\"reflectYBtn\"\r\n          key=\"reflectYBtn\"\r\n          name=\"reflectY\"\r\n          className=\"controlBtn iconBtn\"\r\n          onClick={e => handleClick(e, props.lineOfReflection, true)}\r\n        >\r\n          <ReflectYSvg alt=\"Y-reflection icon\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reflection;\r\n","import React, { useState } from \"react\";\r\nimport \"./Sideboard.css\";\r\nimport Translation from \"../translation/translationComp\";\r\nimport Rotation from \"../rotation/rotationComp\";\r\nimport Reflection from \"../reflection/reflectionComp\";\r\nimport { ReactComponent as TranslationSvg } from \"../../images/btnTrans.svg\";\r\nimport { ReactComponent as RotationSvg } from \"../../images/btnRot.svg\";\r\nimport { ReactComponent as ReflectionSvg } from \"../../images/btnReflect.svg\";\r\n\r\nfunction Sideboard(props) {\r\n  const [tab, setTab] = useState(null);\r\n\r\n  function handleClick(e) {\r\n    if (e.currentTarget.id === \"translation-button\") {\r\n      setTab(\"translation\");\r\n    } else if (e.currentTarget.id === \"reflection-button\") {\r\n      setTab(\"reflection\");\r\n    } else if (e.currentTarget.id === \"rotation-button\") {\r\n      setTab(\"rotation\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"sideboard\">\r\n      <nav>\r\n        <button\r\n          id=\"translation-button\"\r\n          className=\"tabBtn iconBtn\"\r\n          onClick={handleClick}\r\n        >\r\n          <TranslationSvg \r\n            alt=\"Translation\" \r\n            tabIndex=\"0\"\r\n            className={(tab === \"translation\")? \"activeTab\": \"\"}\r\n          />\r\n        </button>\r\n        <button\r\n          id=\"rotation-button\"\r\n          className=\"tabBtn iconBtn\"\r\n          onClick={handleClick}\r\n        >\r\n          <RotationSvg \r\n            alt=\"Rotation\" \r\n            tabIndex=\"0\"\r\n            className={(tab === \"rotation\")? \"activeTab\": \"\"}\r\n          />\r\n        </button>\r\n        <button\r\n          id=\"reflection-button\"\r\n          className=\"tabBtn iconBtn\"\r\n          onClick={handleClick}\r\n        >\r\n          <ReflectionSvg \r\n            alt=\"Reflection\" \r\n            tabIndex=\"0\"\r\n            className={(tab === \"reflection\")? \"activeTab\": \"\"}\r\n          />\r\n        </button>\r\n      </nav>\r\n      {tab === \"translation\" && (\r\n        <Translation\r\n          translate={props.translate}\r\n          translationFactor={props.translationFactor}\r\n          handleChange={props.handleChange}\r\n          addToStack={props.addToStack}\r\n        />\r\n      )}\r\n      {tab === \"rotation\" && (\r\n        <Rotation\r\n          rotate={props.rotate}\r\n          pivotPointx={props.pivotPointx}\r\n          pivotPointy={props.pivotPointy}\r\n          rotationMag={props.rotationMag}\r\n          handleChange={props.handleChange}\r\n          addToStack={props.addToStack}\r\n        />\r\n      )}\r\n      {tab === \"reflection\" && (\r\n        <Reflection\r\n          reflect={props.reflect}\r\n          lineOfReflection={props.lineOfReflection}\r\n          handleChange={props.handleChange}\r\n          addToStack={props.addToStack}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sideboard;\r\n","\r\nconst shapesFunctions = {\r\n    drawAnchorDot: (context, centerX, centerY, radius, fillColour, borderColour, borderWidth) => {\r\n        context.beginPath();\r\n        context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\r\n        context.fillStyle = fillColour;\r\n        context.fill();\r\n        context.lineWidth = borderWidth;\r\n        context.strokeStyle = borderColour;\r\n        context.stroke();\r\n    },\r\n    determineCorners : (anchorX, anchorY, length, orientation, orientation1) => {\r\n        if (orientation === 1) {\r\n          return orientation1;\r\n        }\r\n        if (orientation === 2) {\r\n          let helper = shapesFunctions.determineCorners(anchorX, anchorY, length, 1, orientation1);\r\n          for (let corner of helper) {\r\n            let cornerX = corner[0];\r\n            let cornerY = corner[1];\r\n            corner[0] = anchorX + cornerY - anchorY;\r\n            corner[1] = anchorY - cornerX + anchorX;\r\n          }\r\n          return helper;\r\n        }\r\n      \r\n        if (orientation === 3) {\r\n          let helper = shapesFunctions.determineCorners(anchorX, anchorY, length, 1, orientation1);\r\n          for (let corner of helper) {\r\n            let cornerX = corner[0];\r\n            let cornerY = corner[1];\r\n            corner[0] = 2 * anchorX - cornerX;\r\n            corner[1] = 2 * anchorY - cornerY;\r\n          }\r\n          return helper;\r\n        }\r\n        if (orientation === 4) {\r\n          let helper = shapesFunctions.determineCorners(anchorX, anchorY, length, 1, orientation1);\r\n          for (let corner of helper) {\r\n            let cornerX = corner[0];\r\n            let cornerY = corner[1];\r\n            corner[0] = anchorY - cornerY + anchorX;\r\n            corner[1] = cornerX - anchorX + anchorY;\r\n          }\r\n          return helper;\r\n        }\r\n        if (orientation === (-1)) {\r\n          let helper = shapesFunctions.determineCorners(anchorX, anchorY, length, 1, orientation1);\r\n          for (let corner of helper) {\r\n            corner[0] = corner[0] - 2*(corner[0]-anchorX)\r\n          }\r\n          return helper;\r\n        }\r\n        if (orientation === (-2)) {\r\n          let helper = shapesFunctions.determineCorners(anchorX, anchorY, length, 2, orientation1);\r\n          for (let corner of helper) {\r\n            corner[0] = corner[0] - 2*(corner[0]-anchorX)\r\n          }\r\n          return helper;\r\n        }\r\n        if (orientation === (-3)) {\r\n          let helper = shapesFunctions.determineCorners(anchorX, anchorY, length, 3, orientation1);\r\n          for (let corner of helper) {\r\n            corner[0] = corner[0] - 2*(corner[0]-anchorX)\r\n          }\r\n          return helper;\r\n        }\r\n        if (orientation === (-4)) {\r\n          let helper = shapesFunctions.determineCorners(anchorX, anchorY, length, 4, orientation1);\r\n          for (let corner of helper) {\r\n            corner[0] = corner[0] - 2*(corner[0]-anchorX)\r\n          }\r\n          return helper;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default shapesFunctions;","import React, { useEffect } from 'react';\r\nimport './shapeComp.css';\r\nimport shapesFunctions from \"./shapesFunctions.js\";\r\n\r\nfunction Circle(props) {\r\n    let {\r\n        id,\r\n        position,\r\n        fillColour,\r\n        borderColour,\r\n        borderWidth,\r\n        shapeClassName\r\n    } = props.shapeInfo;\r\n    let [anchorX, anchorY, size, orientation] = position;\r\n    let anchorDotSize = props.anchorDotSize;\r\n    let radius = size/2;\r\n\r\n    let orientation1 = [[anchorX+radius, anchorY], [anchorX, anchorY+radius]];\r\n    \r\n    let cornerArray = shapesFunctions.determineCorners(\r\n    anchorX,\r\n    anchorY,\r\n    radius,\r\n    orientation,\r\n    orientation1\r\n    );\r\n    \r\n    if (anchorY < radius || anchorY > 2000-radius) {\r\n        props.moveBack_shakeVertical();\r\n    } else if (anchorX < radius || anchorX > 2000-radius) {\r\n        props.moveBack_shakeHorizontal();\r\n    }\r\n\r\n    useEffect(() => {\r\n        const canvas = document.getElementById(id);\r\n        const context = canvas.getContext(\"2d\");\r\n        canvas.width = 2000;\r\n        canvas.height = 2000;\r\n\r\n        function drawCircle(centerX, centerY, radius, fillColour, borderColour, borderWidth) {\r\n            context.clearRect(0, 0, canvas.width, canvas.height)\r\n            context.beginPath();\r\n            context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\r\n            context.fillStyle = fillColour;\r\n            context.fill();\r\n            context.lineWidth = borderWidth;\r\n            context.strokeStyle = borderColour;\r\n            context.stroke();\r\n        }\r\n\r\n        drawCircle(anchorX, anchorY, radius, fillColour, borderColour, borderWidth);\r\n        if (anchorDotSize) {\r\n            shapesFunctions.drawAnchorDot(context, cornerArray[0][0], cornerArray[0][1], anchorDotSize, 'white', 'white', borderWidth);\r\n            shapesFunctions.drawAnchorDot(context, cornerArray[1][0], cornerArray[1][1], anchorDotSize, 'black', 'black', borderWidth);\r\n        } \r\n    }, [position]);\r\n\r\n    return (\r\n        <div className={shapeClassName}>\r\n            <canvas id={id}></canvas>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Circle }","import React, { useEffect } from 'react';\r\nimport './shapeComp.css';\r\nimport shapesFunctions from \"./shapesFunctions.js\";\r\n\r\nfunction Square(props) {\r\n    let {\r\n        id,\r\n        position,\r\n        fillColour,\r\n        borderColour,\r\n        borderWidth,\r\n        shapeClassName\r\n    } = props.shapeInfo;\r\n    let [anchorX, anchorY, size, orientation] = position;\r\n    let anchorDotSize = props.anchorDotSize;\r\n\r\n    let orientation1 = [\r\n        [anchorX, anchorY],\r\n        [anchorX + size, anchorY],\r\n        [anchorX + size, anchorY - size],\r\n        [anchorX, anchorY - size]\r\n    ]\r\n    \r\n    let cornerArray = shapesFunctions.determineCorners(\r\n    anchorX,\r\n    anchorY,\r\n    size,\r\n    orientation,\r\n    orientation1\r\n    );\r\n\r\n    for (let corner of cornerArray) {\r\n        if (corner[1] < 0 || corner[1] > 2000) {\r\n            props.moveBack_shakeVertical();\r\n            break;\r\n        } else if (corner[0] < 0 || corner[0] > 2000) {\r\n            props.moveBack_shakeHorizontal();\r\n            break;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const canvas = document.getElementById(id);\r\n        const context = canvas.getContext(\"2d\");\r\n        canvas.width = 2000;\r\n        canvas.height = 2000;\r\n\r\n        function drawSquare(fillColour, borderColour, borderWidth) {\r\n            context.clearRect(0, 0, canvas.width, canvas.height)\r\n            context.beginPath();\r\n            context.moveTo(cornerArray[0][0], cornerArray[0][1]);\r\n            context.lineTo(cornerArray[1][0], cornerArray[1][1]);\r\n            context.lineTo(cornerArray[2][0], cornerArray[2][1]);\r\n            context.lineTo(cornerArray[3][0], cornerArray[3][1]);\r\n            context.lineTo(cornerArray[0][0], cornerArray[0][1]);\r\n            context.fillStyle = fillColour;\r\n            context.fill();\r\n            context.lineWidth = borderWidth;\r\n            context.strokeStyle = borderColour;\r\n            context.stroke();\r\n        }\r\n\r\n        drawSquare(fillColour, borderColour, borderWidth);\r\n        if (anchorDotSize) {\r\n            shapesFunctions.drawAnchorDot(context, cornerArray[0][0], cornerArray[0][1], anchorDotSize, 'white', 'white', borderWidth);\r\n            shapesFunctions.drawAnchorDot(context, cornerArray[1][0], cornerArray[1][1], anchorDotSize, 'black', 'black', borderWidth);\r\n        } \r\n    }, [position]);\r\n\r\n    return (\r\n        <div className={shapeClassName}>\r\n            <canvas id={id}></canvas>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Square }","import React, { useEffect } from \"react\";\r\nimport \"./shapeComp.css\";\r\nimport shapesFunctions from \"./shapesFunctions.js\";\r\n\r\nfunction Triangle(props) {\r\n  let {\r\n    id,\r\n    position,\r\n    fillColour,\r\n    borderColour,\r\n    borderWidth,\r\n    shapeClassName\r\n  } = props.shapeInfo;\r\n  let [anchorX, anchorY, size, orientation] = position;\r\n  let anchorDotSize = props.anchorDotSize;\r\n  \r\n  let orientation1 = [\r\n    [anchorX, anchorY],\r\n    [anchorX + size, anchorY],\r\n    [anchorX, anchorY - size/2]\r\n  ]\r\n\r\n  let cornerArray = shapesFunctions.determineCorners(\r\n    anchorX,\r\n    anchorY,\r\n    size,\r\n    orientation,\r\n    orientation1\r\n  );\r\n\r\n  for (let corner of cornerArray) {\r\n    if (corner[1] < 0 || corner[1] > 2000) {\r\n        props.moveBack_shakeVertical();\r\n        break;\r\n    } else if (corner[0] < 0 || corner[0] > 2000) {\r\n        props.moveBack_shakeHorizontal();\r\n        break;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const canvas = document.getElementById(id);\r\n    const context = canvas.getContext(\"2d\");\r\n    canvas.width = 2000;\r\n    canvas.height = 2000;\r\n\r\n    function drawTriangle(fillColour, borderColour, borderWidth) {\r\n      context.clearRect(0, 0, canvas.width, canvas.height);\r\n      context.beginPath();\r\n      context.moveTo(cornerArray[0][0], cornerArray[0][1]);\r\n      context.lineTo(cornerArray[1][0], cornerArray[1][1]);\r\n      context.lineTo(cornerArray[2][0], cornerArray[2][1]);\r\n      context.lineTo(cornerArray[0][0], cornerArray[0][1]);\r\n      context.fillStyle = fillColour;\r\n      context.fill();\r\n      context.lineWidth = borderWidth;\r\n      context.strokeStyle = borderColour;\r\n      context.stroke();\r\n    }\r\n\r\n    drawTriangle(fillColour, borderColour, borderWidth);\r\n    if (anchorDotSize) shapesFunctions.drawAnchorDot(context, anchorX, anchorY, anchorDotSize, 'white', 'white', borderWidth);\r\n  }, [anchorX, anchorY, size, orientation]);\r\n\r\n  return (\r\n    <div className={shapeClassName}>\r\n      <canvas id={id}></canvas>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Triangle };\r\n","import React, { useEffect } from \"react\";\r\nimport \"./shapeComp.css\";\r\nimport shapesFunctions from \"./shapesFunctions.js\";\r\n\r\nfunction Star(props) {\r\n  let {\r\n    id,\r\n    position,\r\n    fillColour,\r\n    borderColour,\r\n    borderWidth,\r\n    shapeClassName\r\n  } = props.shapeInfo;\r\n  let [anchorX, anchorY, size, orientation] = position;\r\n  let anchorDotSize = props.anchorDotSize;\r\n  \r\n  let orientation1 = [\r\n    [anchorX, anchorY],\r\n    [anchorX + (size/525)*175, anchorY - (size/525)*125],\r\n    [anchorX + (size/525)*375, anchorY],\r\n    [anchorX + (size/525)*300, anchorY - (size/525)*200],\r\n    [anchorX + (size/525)*425, anchorY - (size/525)*350],\r\n    [anchorX + (size/525)*250, anchorY - (size/525)*350],\r\n    [anchorX + (size/525)*175, anchorY - (size/525)*525],\r\n    [anchorX + (size/525)*100, anchorY - (size/525)*350],\r\n    [anchorX - (size/525)*75, anchorY - (size/525)*350],\r\n    [anchorX + (size/525)*50, anchorY - (size/525)*200]\r\n  ]\r\n\r\n  let cornerArray = shapesFunctions.determineCorners(\r\n    anchorX,\r\n    anchorY,\r\n    size,\r\n    orientation,\r\n    orientation1\r\n  );\r\n\r\n  for (let corner of cornerArray) {\r\n    if (corner[1] < 0 || corner[1] > 2000) {\r\n        props.moveBack_shakeVertical();\r\n        break;\r\n    } else if (corner[0] < 0 || corner[0] > 2000) {\r\n        props.moveBack_shakeHorizontal();\r\n        break;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const canvas = document.getElementById(id);\r\n    const context = canvas.getContext(\"2d\");\r\n    canvas.width = 2000;\r\n    canvas.height = 2000;\r\n\r\n\r\n    function drawStar(fillColour, borderColour, borderWidth) {\r\n      context.clearRect(0, 0, canvas.width, canvas.height);\r\n      context.beginPath();\r\n      context.moveTo(cornerArray[0][0], cornerArray[0][1]);\r\n      context.lineTo(cornerArray[1][0], cornerArray[1][1]);\r\n      context.lineTo(cornerArray[2][0], cornerArray[2][1]);\r\n      context.lineTo(cornerArray[3][0], cornerArray[3][1]);\r\n      context.lineTo(cornerArray[4][0], cornerArray[4][1]);\r\n      context.lineTo(cornerArray[5][0], cornerArray[5][1]);\r\n      context.lineTo(cornerArray[6][0], cornerArray[6][1]);\r\n      context.lineTo(cornerArray[7][0], cornerArray[7][1]);\r\n      context.lineTo(cornerArray[8][0], cornerArray[8][1]);\r\n      context.lineTo(cornerArray[9][0], cornerArray[9][1]);\r\n      context.lineTo(cornerArray[0][0], cornerArray[0][1]);\r\n\r\n      context.fillStyle = fillColour;\r\n      context.fill();\r\n      context.lineWidth = borderWidth;\r\n      context.strokeStyle = borderColour;\r\n      context.stroke();\r\n    }\r\n    \r\n    drawStar(fillColour, borderColour, borderWidth);\r\n    if (anchorDotSize) shapesFunctions.drawAnchorDot(context, anchorX, anchorY, anchorDotSize, 'white', 'white', borderWidth);\r\n  }, [position]);\r\n\r\n  return (\r\n    <div className={shapeClassName}>\r\n      <canvas id={id}></canvas>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Star };\r\n","import React, { useEffect } from 'react';\r\nimport './shapeComp.css';\r\nimport shapesFunctions from \"./shapesFunctions.js\";\r\n\r\nfunction Rectangle(props) {\r\n    let {\r\n        id,\r\n        position,\r\n        fillColour,\r\n        borderColour,\r\n        borderWidth,\r\n        shapeClassName\r\n    } = props.shapeInfo;\r\n    let [anchorX, anchorY, size, orientation] = position;\r\n    let anchorDotSize = props.anchorDotSize;\r\n    size = Math.round(size/2);\r\n\r\n    let orientation1 = [\r\n        [anchorX, anchorY],\r\n        [anchorX + 2 * size, anchorY],\r\n        [anchorX + 2 * size, anchorY - size],\r\n        [anchorX, anchorY - size]\r\n    ]\r\n    \r\n    let cornerArray = shapesFunctions.determineCorners(\r\n    anchorX,\r\n    anchorY,\r\n    size,\r\n    orientation,\r\n    orientation1\r\n    );\r\n\r\n    for (let corner of cornerArray) {\r\n        if (corner[1] < 0 || corner[1] > 2000) {\r\n            props.moveBack_shakeVertical();\r\n            break;\r\n        } else if (corner[0] < 0 || corner[0] > 2000) {\r\n            props.moveBack_shakeHorizontal();\r\n            break;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const canvas = document.getElementById(id);\r\n        const context = canvas.getContext(\"2d\");\r\n        canvas.width = 2000;\r\n        canvas.height = 2000;\r\n\r\n        function drawRectangle(fillColour, borderColour, borderWidth) {\r\n            context.clearRect(0, 0, canvas.width, canvas.height)\r\n            context.beginPath();\r\n            context.moveTo(cornerArray[0][0], cornerArray[0][1]);\r\n            context.lineTo(cornerArray[1][0], cornerArray[1][1]);\r\n            context.lineTo(cornerArray[2][0], cornerArray[2][1]);\r\n            context.lineTo(cornerArray[3][0], cornerArray[3][1]);\r\n            context.lineTo(cornerArray[0][0], cornerArray[0][1]);\r\n            context.fillStyle = fillColour;\r\n            context.fill();\r\n            context.lineWidth = borderWidth;\r\n            context.strokeStyle = borderColour;\r\n            context.stroke();\r\n        }\r\n\r\n        drawRectangle(fillColour, borderColour, borderWidth);\r\n        if (anchorDotSize) shapesFunctions.drawAnchorDot(context, anchorX, anchorY, anchorDotSize, 'white', 'white', borderWidth);\r\n    }, [position]);\r\n\r\n    return (\r\n        <div className={shapeClassName}>\r\n            <canvas id={id}></canvas>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Rectangle }\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"#1d219d\",\n  transform: \"translate(-128.753 -161.708)\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnClear\",\n  ry: 24.414,\n  rx: 25.043,\n  cy: 188.122,\n  cx: 155.796,\n  fill: \"#e2ab0b\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), React.createElement(\"g\", {\n  transform: \"translate(-97.848 -81.615)\",\n  fill: \"none\",\n  strokeWidth: 3\n}, React.createElement(\"rect\", {\n  ry: 0,\n  y: 259.676,\n  x: 243.39,\n  height: 24.577,\n  width: 20.508,\n  opacity: 0.97,\n  strokeLinejoin: \"round\"\n}), React.createElement(\"path\", {\n  d: \"M241.098 259.44h25.093\",\n  strokeLinecap: \"round\"\n}), React.createElement(\"rect\", {\n  transform: \"scale(1 -1)\",\n  width: 9.001,\n  height: 4.218,\n  x: 249.144,\n  y: -259.44,\n  ry: 0,\n  opacity: 0.97,\n  strokeLinejoin: \"round\"\n}), React.createElement(\"g\", {\n  strokeLinecap: \"round\"\n}, React.createElement(\"path\", {\n  d: \"M248.776 264.86v14.615M258.513 264.86v14.615M253.645 264.86v14.615\"\n}))));\n\nvar SvgBtnClear = function SvgBtnClear(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 54.086 52.828\",\n    height: 199.666,\n    width: 204.421,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnClear, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnClear.886a4983.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"#1d219d\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  transform: \"translate(-8.792 -72.953)\"\n}, React.createElement(\"ellipse\", {\n  id: \"ellipseBtnRun\",\n  ry: 24.414,\n  rx: 25.043,\n  cy: 99.368,\n  cx: 35.835,\n  fill: \"#e2ab0b\",\n  strokeWidth: 4\n}), React.createElement(\"path\", {\n  d: \"M47.227 87.4l-12.3 26.5-8.827-11.503\",\n  fill: \"none\",\n  strokeWidth: 5\n}));\n\nvar SvgBtnRun = function SvgBtnRun(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 54.086 52.828\",\n    height: 199.666,\n    width: 204.421,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBtnRun, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/btnRun.279bc845.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\r\nimport './callStack.css'\r\nimport { ReactComponent as ClearSvg } from \"../../images/btnClear.svg\";\r\nimport { ReactComponent as RunSvg } from \"../../images/btnRun.svg\";\r\n\r\n\r\n\r\nexport function CallCard(props) {\r\n\r\n    const Svg = props.image\r\n    return(\r\n        <div className=\"calling-card\" id={props.id} key = {props.id}>\r\n            <Svg \r\n                className=\"cardIcon\"\r\n            />\r\n            <p>{props.desc}</p>\r\n            {/* <button>X</button> */}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport function CallStack(props) {\r\n\r\n    // const runStack = () => {\r\n    //     console.log(props.callStackComps.length)\r\n    //     props.callStackComps.forEach(i => i.props.fx(i.props.para))\r\n    //     // let i\r\n    //     // for(i = 0; i=props.callStackComps.length; i++){\r\n    //     //     console.log(props.callStackComps[i])\r\n    //     // }\r\n    //     // let item\r\n    //     // for(item in props.callStackComps) {\r\n    //     //     console.log(item)\r\n    //     // }\r\n    // }\r\n    return(\r\n        <div  className='call-stack'>\r\n            {props.callStackComps}\r\n            <div className='button-div'>\r\n            <button \r\n                id='clear-button' \r\n                name=\"clear-button\"\r\n                key=\"clear-button\" \r\n                className=\"iconBtn\" \r\n                onClick={props.clearStack}\r\n            >\r\n                <ClearSvg \r\n                    alt=\"Clear Button\"\r\n                />\r\n            </button>\r\n            <button \r\n                id='run-button' \r\n                name=\"run-button\"\r\n                key=\"run-button\" \r\n                className=\"iconBtn\" \r\n                onClick={props.runStack}\r\n            >\r\n                <RunSvg \r\n                    alt=\"Run Button\"\r\n                />\r\n            </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// export default {CallStack, CallCard}","export const keys = {\r\n    // google api client id\r\n    clientId: '381072268579-0jo9s6uk126vi0hsc6rk52okmdvmkucm',\r\n}\r\nexport const apiUrls = {\r\n    test: \"https://localhost:44319/api\",\r\n    development: \"https://graphhopperapi.azurewebsites.net/api\", // npm start\r\n    production: \"https://graphhopperapi.azurewebsites.net/api\"\r\n}","import fetch from \"node-fetch\";\r\nimport { apiUrls } from \"../config\";\r\n\r\n// for local testing without ssl\r\nimport https from \"https\";\r\nconst agent = new https.Agent({\r\n  rejectUnauthorized: (process.env.NODE_ENV===\"test\")? false: true\r\n});\r\n//\r\n\r\nlet baseUrl = apiUrls[process.env.NODE_ENV];\r\n\r\nasync function fetchJson(route, method = \"POST\", body = {}) {\r\n  const init = {\r\n    // Default options are marked with *\r\n    method: method, // *GET, POST, PUT, DELETE, etc.\r\n    // mode: \"cors\", // no-cors, *cors, same-origin\r\n    // cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n    // credentials: \"same-origin\", // include, *same-origin, omit\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    // redirect: \"follow\", // manual, *follow, error\r\n    // referrer: \"no-referrer\", // no-referrer, *client\r\n    agent: agent\r\n  };\r\n  if (method === \"POST\" || method === \"PUT\") {\r\n    init.body = JSON.stringify(body);\r\n  }\r\n  try {\r\n    const response = await fetch(baseUrl + \"/\" + route, init);\r\n    return await response.json();\r\n  } catch (error) {\r\n    const message = `/${route}: ${method} error: ${error}`\r\n    // console.log(message);\r\n    throw new Error(message);\r\n  }\r\n}\r\n\r\nasync function tokenInfo(idToken) {\r\n  try {\r\n    const response = await fetch(\r\n      \"https://oauth2.googleapis.com/tokeninfo?id_token=\" + idToken, \r\n      {\r\n      method: \"GET\",\r\n      headers: {\"Content-Type\": \"application/json\"}\r\n      }\r\n    );\r\n    if (response.status !== 200) {\r\n      return {status: response.status};\r\n    } else {\r\n      const json = await response.json();\r\n      return json;\r\n    }\r\n  } catch (error) {\r\n    const message = (\"tokeninfo fetch error: \" + error);\r\n    // console.log(message);\r\n    throw new Error(message);\r\n  }\r\n}\r\n\r\nexport { fetchJson, tokenInfo };\r\n","/* global gapi */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./login.css\";\r\nimport { keys } from \"../../config.js\";\r\nimport { fetchJson, tokenInfo } from \"../../scripts/fetch\";\r\n\r\nexport default function Login(props) {\r\n  const { setIsSignedIn, setUser, setCurrentLevel, online, setOnline } = props;\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [usernameMsg, setUsernameMsg] = useState(\"\");\r\n  const [passwordMsg, setPasswordMsg] = useState(\"\");\r\n  const [loginMsg, setLoginMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function gapiSetup() {\r\n      // initialize google api\r\n      await window.gapi.load(\"auth2\", async () => {\r\n        const auth2 = await gapi.auth2.init({\r\n          client_id: keys.clientId + \".apps.googleusercontent.com\",\r\n          fetch_basic_profile: false,\r\n          scope: \"profile\"\r\n        });\r\n      });\r\n\r\n      // render google api button\r\n      window.gapi.load(\"signin2\", () => {\r\n        const options = {\r\n          scope: \"profile\",\r\n          width: 300,\r\n          height: 50,\r\n          longtitle: true,\r\n          theme: \"light\",\r\n          onsuccess: handleSuccess,\r\n          onfailure: handleFailure\r\n        };\r\n        gapi.signin2.render(\"gLoginBtn\", options);\r\n      });\r\n    }\r\n    // timeout for in case gapi script has not finished loading\r\n    const interval = setInterval( async () => {\r\n      if (window.gapi) {\r\n        await gapiSetup();\r\n        clearInterval(interval);\r\n      }\r\n    }, 10);\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n  \r\n\r\n  async function startSession(userObject) {\r\n    let jsonPlayer;\r\n    try {\r\n      if (userObject.type !== \"guest\") {\r\n        jsonPlayer = await fetchJson(\"Players/=\" + userObject.userName, \"GET\");\r\n      }\r\n      if (userObject.type === \"guest\" || !jsonPlayer.id) {\r\n        jsonPlayer = await fetchJson(\"Players\", \"POST\", userObject);\r\n        if (!jsonPlayer.id) {\r\n          // console.log(\"failed to post new user\");\r\n          return;\r\n        }\r\n      }\r\n    } catch(error) {\r\n      setOnline(false);\r\n      return;\r\n    }\r\n\r\n    // password to be added to db\r\n    if ((userObject.type===\"login\") && jsonPlayer.password && (jsonPlayer.password !== userObject.password)) {\r\n      setPasswordMsg(\"Username and password do not match.\");\r\n      return;\r\n    }\r\n    //\r\n\r\n    setUser({\r\n      userName: userObject.userName,\r\n      id: jsonPlayer.id,\r\n      type: userObject.type\r\n    });\r\n    if (!online || userObject.type===\"guest\") {\r\n      setCurrentLevel(1);\r\n    } else {\r\n      try {\r\n        const jsonLevel = await fetchJson(\"Attempts/LastLevel/PlayerId=\"+jsonPlayer.id, \"GET\");\r\n        setCurrentLevel(jsonLevel[0].levelId);\r\n      } catch(error) {\r\n        // console.log(\"fetching player's last level failed\", error);\r\n        setCurrentLevel(1);\r\n      }\r\n    }\r\n    setIsSignedIn(true); // component will unmount\r\n  }\r\n\r\n  // --- Google Login ---\r\n  async function verifyToken(idToken) {\r\n    // // verify from back-end\r\n    // let response = await fetchJson(\"tokensignin\", \"POST\", {idToken: idToken});\r\n\r\n    // // verify from google api tokeninfo\r\n    let response = await tokenInfo(idToken);\r\n    const checkIssuer = iss =>\r\n      iss === \"accounts.google.com\" || iss === \"https://accounts.google.com\";\r\n    const checkAud = aud =>\r\n      aud === keys.clientId + \".apps.googleusercontent.com\";\r\n    if (!checkIssuer(response.iss) || !checkAud(response.aud)) {\r\n      setLoginMsg(\"Google verification failed.\");\r\n    } else {\r\n      return response.sub; // Google ID\r\n    }\r\n  }\r\n\r\n  async function handleSuccess(googleUser) {\r\n    const idToken = googleUser.getAuthResponse().id_token;\r\n    // // get profile info\r\n    // const profile = googleUser.getBasicProfile();\r\n    // const googleId = profile.getId(); // Do not send to your backend! Use an ID token instead.\r\n    // const name = profile.getGivenName();\r\n    // const image = profile.getImageUrl();\r\n    // const email = profile.getEmail(); // This is null if the 'email' scope is not present.\r\n\r\n    const googleId = await verifyToken(idToken);\r\n    if (googleId) {\r\n      await startSession({ \r\n        userName: googleId,\r\n        type: \"google\"\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleFailure() {\r\n    setIsSignedIn(false);\r\n  }\r\n\r\n  // --- Regular Login ---\r\n\r\n  function validateUsername(username) {\r\n    let valid = (\r\n      username.length >= 6 && username.length <= 128 && !username.includes(\" \") && \r\n      /^[a-zA-Z]/.test(username.charAt(0)) && username.indexOf(\"guest\") !== 0\r\n    );\r\n    if (!valid) {\r\n      setUsernameMsg(\"Must be 6 or more characters, starting with a letter, with no spaces.\");\r\n    }\r\n    return valid;\r\n  }\r\n\r\n  function validatePassword(password) {\r\n    let valid = (\r\n      password.length >= 8 && password.length <= 128 && !password.includes(\" \")\r\n    );\r\n    if (!valid) {\r\n      setPasswordMsg(\"Must be 8 or more characters, with no spaces.\");\r\n    }\r\n    return valid;\r\n  }\r\n\r\n  function handleLogin() {\r\n    setUsernameMsg(\"\");\r\n    setPasswordMsg(\"\");\r\n    if (validateUsername(username) && validatePassword(password)) {\r\n      startSession({\r\n        userName: username,\r\n        type: \"login\",\r\n        password: password\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleGuest() {\r\n    const userObject = {\r\n      userName: `guest${Date.now()}${Math.random()}`, // somewhat random unique id. consider npm uuid\r\n      type: \"guest\"\r\n    }\r\n    if(online) {\r\n      startSession(userObject);\r\n    } else {\r\n      setUser(userObject);\r\n      setIsSignedIn(true);\r\n    }\r\n  }\r\n\r\n  function handleUsername(e) {\r\n    setUsername(e.target.value);\r\n  }\r\n\r\n  function handlePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  const offlineLogin = (\r\n    <div id=\"login\" className=\"overlay\">\r\n      <div className=\"loginItem\">\r\n        <div className=\"loginLabel\">\r\n          The player database is temporarily unavailable.\r\n        </div>\r\n        <button\r\n          id=\"guestBtn\"\r\n          className=\"loginBtn\"\r\n          key=\"guestBtn\"\r\n          onClick={handleGuest}\r\n        >\r\n          Play Offline\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    !online\r\n      ? offlineLogin\r\n      : <div id=\"login\" className=\"overlay\">\r\n        <div className=\"loginItem\">\r\n          <label htmlFor=\"username\" className=\"loginLabel\">\r\n            {`Username: ${usernameMsg}`}\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            autoComplete=\"username\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            key=\"username\"\r\n            className=\"loginInput\"\r\n            value={username}\r\n            onChange={handleUsername}\r\n          ></input>\r\n        </div>\r\n        <div className=\"loginItem\">\r\n          <label htmlFor=\"password\" className=\"loginLabel\">\r\n            {`Password: ${passwordMsg}`}\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            key=\"password\"\r\n            className=\"loginInput\"\r\n            value={password}\r\n            onChange={handlePassword}\r\n          ></input>\r\n        </div>\r\n        <button\r\n          id=\"loginBtn\"\r\n          className=\"loginBtn\"\r\n          key=\"loginBtn\"\r\n          onClick={handleLogin}\r\n        >\r\n          Sign in\r\n        </button>\r\n        <button\r\n          id=\"guestBtn\"\r\n          className=\"loginBtn\"\r\n          key=\"guestBtn\"\r\n          onClick={handleGuest}\r\n        >\r\n          Play as a Guest\r\n        </button>\r\n        <button id=\"gLoginBtn\"></button>\r\n        <div className=\"loginLabel\">\r\n          {loginMsg}\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 6C3 5.44772 3.44772 5 4 5H20C20.5523 5 21 5.44772 21 6C21 6.55228 20.5523 7 20 7H4C3.44772 7 3 6.55228 3 6Z\",\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 12C3 11.4477 3.44772 11 4 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H4C3.44772 13 3 12.5523 3 12Z\",\n  fill: \"black\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 17C3.44772 17 3 17.4477 3 18C3 18.5523 3.44772 19 4 19H20C20.5523 19 21 18.5523 21 18C21 17.4477 20.5523 17 20 17H4Z\",\n  fill: \"black\"\n});\n\nvar SvgIconMenu = function SvgIconMenu(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconMenu, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Icon_menu.6edbce04.svg\";\nexport { ForwardRef as ReactComponent };","/* global gapi */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./login.css\";\r\nimport { ReactComponent as MenuSvg } from \"../..//images/Icon_menu.svg\";\r\nimport { fetchJson } from \"../../scripts/fetch\";\r\n\r\n\r\nfunction countMatchingObjects(array, compareKey, matchValue) {\r\n  let count = 0;\r\n  for (const v of array) {\r\n    if (v[compareKey] === matchValue) {\r\n      count++;\r\n    }\r\n  }\r\n  return count;\r\n}\r\n\r\nasync function getScore() {\r\n  let attemptsJson = [];\r\n  attemptsJson = await fetchJson(\"Attempts\", \"GET\");\r\n  let runsJson = [];\r\n  runsJson = await fetchJson(\"FunctionsRuns\", \"GET\");\r\n\r\n  const scores = attemptsJson.reduce((cumulator, v) => {\r\n    const countRuns = countMatchingObjects(runsJson, \"AttemptId\", v.id);\r\n    if (countRuns > 0) {\r\n      const score = 100 - 10 * countRuns;\r\n      cumulator.push(\r\n        {playerId: v.playerId, levelId: v.levelId, score: score}\r\n      );\r\n    }\r\n    return cumulator;\r\n  }, []);\r\n\r\n  scores.sort((a, b) => Number(b.score) - Number(a.score));\r\n  // scores.sort((a, b) => Number(b.levelId) - Number(a.levelId));\r\n  return scores;\r\n}\r\n\r\nexport default function Menu(props) {\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [scoreOpen, setScoreOpen] = useState(false);\r\n  // const [overlay, setOverlay] = useState(false);\r\n  const [scoreDisplay, setScoreDisplay] = useState(null);\r\n\r\n  function handleMenu() {\r\n    setMenuOpen(previous => !previous);\r\n    if (scoreOpen) {\r\n      setScoreOpen(false);\r\n    }\r\n  }\r\n  function handleOverlay() {\r\n    setMenuOpen(false);\r\n    setScoreOpen(false);\r\n  }\r\n  async function scoreTable() {\r\n    const scores = await getScore();\r\n    const scoreRows = scores.slice(0,5).map((v,i) => (\r\n      <tr key={i} className={v.playerId===props.user.id?\"player\":\"\"}>\r\n        <td key=\"level\">{v.levelId}</td>\r\n        <td key=\"runs\">{v.score}</td>\r\n      </tr>\r\n    ));\r\n    return (<table id=\"highScore\">\r\n      <thead>\r\n        <tr key=\"head\">\r\n          <th>Level</th>\r\n          <th>Score</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {scoreRows}\r\n      </tbody>\r\n    </table>);\r\n  } \r\n\r\n  async function handleClickHighScores() {\r\n    if (props.online) {\r\n      setScoreDisplay(await scoreTable());\r\n    } else {\r\n      setScoreDisplay(<p id=\"noScore\">Scores are temporarily unavailable.</p>);\r\n    }\r\n    setScoreOpen(prev => !prev);\r\n    setMenuOpen(prev => !prev);\r\n  }\r\n  function handleClickRestart() {\r\n    props.handleRestart();\r\n    setMenuOpen(false);\r\n  }\r\n  async function handleClickSignOut() {\r\n    const auth2 = await gapi.auth2.getAuthInstance();\r\n    await auth2.signOut();\r\n    setMenuOpen(false);\r\n    props.setUser(null);\r\n    setTimeout(() => {\r\n      props.setIsSignedIn(false) // unmount\r\n    }, 400);\r\n  }\r\n  const buttonInfo = {\r\n    highScoresBtn: { handleClick: handleClickHighScores, text: \"High Scores\" },\r\n    restartBtn: { handleClick: handleClickRestart, text: \"Restart Level\" },\r\n    logoutBtn: { handleClick: handleClickSignOut, text: \"Sign Out\" }\r\n  };\r\n  const buttons = [];\r\n  for (let key in buttonInfo) {\r\n    buttons.push(\r\n      <button\r\n        onClick={buttonInfo[key].handleClick}\r\n        key={key}\r\n        name={key}\r\n        alt={key}\r\n        id={key}\r\n        className=\"navBtn\"\r\n      >\r\n        {buttonInfo[key].text}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div id=\"menu\">\r\n      <button\r\n        id=\"menuBtn\"\r\n        name=\"menuBtn\"\r\n        key=\"menuBtn\"\r\n        onClick={handleMenu}\r\n        className={menuOpen || scoreOpen ? \"open\" : \"closed\"}\r\n      >\r\n        <MenuSvg alt=\"menu\" tabIndex=\"0\" />\r\n      </button>\r\n      {(menuOpen || scoreOpen) &&\r\n        <div id=\"menuOverlay\" className=\"overlay\" onClick={handleOverlay}></div>\r\n      }\r\n      <nav id=\"menuNav\" className={menuOpen ? \"open\" : \"closed\"}>\r\n        {buttons}\r\n      </nav>\r\n      <div id=\"scoreTab\" className={scoreOpen ? \"open\" : \"closed\"}>\r\n        {scoreDisplay}\r\n      </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","\r\nconst mathFunctions = {\r\n    shapeMaker: (size) => {\r\n        let anchorX = 0\r\n        while(anchorX < size || anchorX > 2000-size ) {\r\n            anchorX = (Math.floor(Math.random()*19)+1)*100\r\n        }\r\n        let anchorY = 0\r\n        while(anchorY < size || anchorY > 2000-size ) {\r\n            anchorY = (Math.floor(Math.random()*19)+1)*100\r\n        }\r\n        return [anchorX, anchorY]\r\n    },\r\n\r\n    translate: (playerPosition, deltaX, deltaY) => {\r\n        let [anchorX, anchorY, size , orientation] = playerPosition;\r\n        anchorX = anchorX + deltaX;\r\n        anchorY = anchorY + deltaY;\r\n        return ([anchorX, anchorY, size , orientation]);\r\n    },\r\n\r\n    reflect: (playerPosition, lineOfReflection, axis) => { // axis: x = true, y = false\r\n        let [anchorX, anchorY, size , orientation] = playerPosition;\r\n        if (axis) {\r\n            lineOfReflection = lineOfReflection*100 + 1000;\r\n            anchorX = anchorX - 2*(anchorX-lineOfReflection)\r\n            orientation = orientation * -1;\r\n        }\r\n        if (!axis) {\r\n            lineOfReflection = -lineOfReflection*100 + 1000;\r\n            anchorY = anchorY - 2*(anchorY-lineOfReflection);\r\n            if (orientation > 0) {\r\n                orientation = orientation + 2;\r\n                if (orientation > 4) orientation = orientation - 4\r\n            } \r\n            if (orientation < 0) {\r\n                orientation = orientation + 2;\r\n                if (orientation >= 0) orientation = orientation - 4\r\n            }\r\n            orientation = orientation * -1;\r\n        }\r\n        return ([anchorX, anchorY, size, orientation])\r\n    },\r\n\r\n    rotate: (playerPosition, magnitude, pivotPointx, pivotPointy, direction) => { //direction: true = ccw, false = cw\r\n        let [anchorX, anchorY, size, orientation] = playerPosition;\r\n        pivotPointx = pivotPointx*100 + 1000;\r\n        pivotPointy = -pivotPointy*100 + 1000;\r\n        if ((magnitude === 90 && direction)||(magnitude === 270 && !direction)) {\r\n            let cornerX = anchorX;\r\n            let cornerY = anchorY;\r\n            anchorX = pivotPointx + cornerY - pivotPointy;\r\n            anchorY = pivotPointy - cornerX + pivotPointx;\r\n            if (orientation > 0) {\r\n                orientation = orientation + 1;\r\n                if (orientation > 4) orientation = orientation - 4\r\n            } \r\n            if (orientation < 0) {\r\n                orientation = orientation + 1;\r\n                if (orientation >= 0) orientation = orientation - 4\r\n            }\r\n        }\r\n        if ((magnitude === 180 && direction)||(magnitude === 180 && !direction)) {\r\n            let cornerX = anchorX;\r\n            let cornerY = anchorY;\r\n            anchorX = 2 * pivotPointx - cornerX;\r\n            anchorY = 2 * pivotPointy - cornerY;\r\n            if (orientation > 0) {\r\n                orientation = orientation + 2;\r\n                if (orientation > 4) orientation = orientation - 4\r\n            } \r\n            if (orientation < 0) {\r\n                orientation = orientation + 2;\r\n                if (orientation >= 0) orientation = orientation - 4\r\n            }\r\n        }\r\n        if ((magnitude === 270 && direction)||(magnitude === 90 && !direction)) {\r\n            let cornerX = anchorX;\r\n            let cornerY = anchorY;\r\n            anchorX = pivotPointy - cornerY + pivotPointx;\r\n            anchorY = cornerX - pivotPointx + pivotPointy;\r\n            if (orientation > 0) {\r\n                orientation = orientation + 3;\r\n                if (orientation > 4) orientation = orientation - 4\r\n            } \r\n            if (orientation < 0) {\r\n                orientation = orientation + 3;\r\n                if (orientation >= 0) orientation = orientation - 4\r\n            }\r\n        }\r\n        return ([anchorX, anchorY, size, orientation])\r\n    },\r\n}\r\n\r\n\r\nexport default mathFunctions;","import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport { Grid } from \"./components/grid/gridComp\";\r\nimport Sideboard from \"./components/Sideboard/SideboardComp\";\r\nimport { Circle } from \"./components/shapes/circleComp.js\";\r\nimport { Square } from \"./components/shapes/squareComp.js\";\r\nimport { Triangle } from \"./components/shapes/triangleComp.js\";\r\n// import { Heart } from \"./components/shapes/heartComp.js\";\r\nimport { Star } from \"./components/shapes/starComp.js\";\r\nimport { Rectangle } from \"./components/shapes/rectangleComp.js\";\r\nimport { CallStack, CallCard } from './components/callStack/callStack';\r\nimport Login from './components/login/loginComp';\r\nimport Menu from './components/login/menuComp';\r\nimport mathFunctions from \"./scripts/math.js\";\r\nimport { fetchJson } from \"./scripts/fetch\";\r\n\r\n\r\nfunction Game(props) {\r\n  let shapesArray = [\"circle\", \"square\", \"star\", \"rectangle\", \"triangle\"];\r\n  let randomShape = shapesArray[Math.floor(Math.random() * shapesArray.length)];\r\n\r\n  const [shape, setShape] = useState(randomShape);\r\n\r\n  let size = (Math.floor(Math.random() * 3) + 2) * 100; // returns a random int between 4 and 2 (both inclusive)\r\n  let randomOrientation = Math.floor(Math.random() * 8);\r\n  let startOrientation = [4, 3, 2, 1, -1, -2, -3, -4][randomOrientation];\r\n  randomOrientation = Math.floor(Math.random() * 8);\r\n  let endOrientation = [4, 3, 2, 1, -1, -2, -3, -4][randomOrientation];\r\n\r\n  let [startAnchorX, startAnchorY] = mathFunctions.shapeMaker(size);\r\n  const [playerPositionsArray, setPlayerPositionsArray] = useState([[startAnchorX, startAnchorY, size, startOrientation]]);\r\n  const [playerAcceptablePositionsArray, setPlayerAcceptablePositionsArray] = useState([[startAnchorX, startAnchorY, size, startOrientation]]);\r\n  const [playerPosition, setPlayerPosition] = useState([startAnchorX, startAnchorY, size, startOrientation]);\r\n\r\n  let [endAnchorX, endAnchorY] = mathFunctions.shapeMaker(size);\r\n  while (\r\n    Math.pow(endAnchorX - startAnchorX, 2) +\r\n    Math.pow(endAnchorY - startAnchorY, 2) <\r\n    Math.pow(2 * size, 2)\r\n  ) {\r\n    [endAnchorX, endAnchorY] = mathFunctions.shapeMaker(size);\r\n  }\r\n  const [targetPosition, setTargetPosition] = useState([endAnchorX, endAnchorY, size, endOrientation]);\r\n\r\n  const [fillColour, setFillColour] = useState(\"rgba(137, 235, 52, 0.6)\");\r\n  const [targetFillColour, setTargetFillColour] = useState(\"rgba(255, 77, 0, 0.6)\");\r\n  const [borderColour, setBorderColour] = useState(\"rgba(255, 255, 255, 1)\");\r\n  const [borderWidth, setBorderWidth] = useState(6);\r\n  const [shapeClassName, setShapeClassName] = useState(\"Circle\");\r\n\r\n  const [translationFactor, setTranslationFactor] = useState(1);\r\n  const [pivotPointx, setPivotPointx] = useState(0);\r\n  const [pivotPointy, setPivotPointy] = useState(0);\r\n  const [rotationMag, setRotationMag] = useState(\"180°\");\r\n  const [lineOfReflection, setLineOfReflection] = useState(0);\r\n  const transformFunctions = {\r\n    \"setTranslationFactor\": setTranslationFactor,\r\n    \"setPivotPointx\": setPivotPointx,\r\n    \"setPivotPointy\": setPivotPointy,\r\n    \"setRotationMag\": setRotationMag,\r\n    \"setLineOfReflection\": setLineOfReflection\r\n  }\r\n\r\n  const [callStackComps, setCallStackComps] = useState([]);\r\n  const [counter, setCounter] = useState(0)\r\n\r\n  // Login props\r\n  const [isSignedIn, setIsSignedIn] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [currentLevel, setCurrentLevel] = useState(1);\r\n  const [online, setOnline] = useState(true);\r\n  const [attempt, setAttempt] = useState(null);\r\n  const [score, setScore] = useState(0);\r\n  useEffect(() => {\r\n    if (online && isSignedIn) {\r\n      postAttempt();\r\n    }\r\n  }, [isSignedIn]);\r\n\r\n  let player = {\r\n    id: \"myStartPt\",\r\n    position: playerPosition,\r\n    fillColour: fillColour,\r\n    borderColour: borderColour,\r\n    borderWidth: borderWidth,\r\n    shapeClassName: shapeClassName\r\n  };\r\n\r\n  let target = {\r\n    id: \"myEndPt\",\r\n    position: targetPosition,\r\n    fillColour: targetFillColour,\r\n    borderColour: borderColour,\r\n    borderWidth: borderWidth,\r\n    shapeClassName: \"endPtCircle\"\r\n  };\r\n\r\n  const changeClass = newName => {\r\n    setShapeClassName(newName);\r\n  };\r\n\r\n  const translate = async (e, deltaX, deltaY) => {\r\n    let currentPlayerPosition = playerAcceptablePositionsArray[playerAcceptablePositionsArray.length-1];\r\n    let newPlayerPosition = mathFunctions.translate(\r\n      currentPlayerPosition,\r\n      deltaX * translationFactor,\r\n      deltaY * translationFactor\r\n    );\r\n    playerPositionsArray.push(newPlayerPosition);\r\n    playerAcceptablePositionsArray.push(newPlayerPosition);\r\n    await changeClass(\"fade-out\");\r\n    await setTimeout(() => {\r\n      setPlayerPosition(newPlayerPosition);\r\n      changeClass(\"fade-in\");\r\n    }, 100);\r\n  };\r\n\r\n  const reflect = async (e, lineOfReflection, axis) => { // axis: x = true, y = false\r\n    lineOfReflection = Number(lineOfReflection);\r\n    let currentPlayerPosition = playerAcceptablePositionsArray[playerAcceptablePositionsArray.length-1]\r\n    let newPlayerPosition = mathFunctions.reflect(currentPlayerPosition, lineOfReflection, axis);\r\n    playerPositionsArray.push(newPlayerPosition);\r\n    playerAcceptablePositionsArray.push(newPlayerPosition);\r\n    await changeClass(\"fade-out\");\r\n    await setTimeout(() => {\r\n      setPlayerPosition(newPlayerPosition);\r\n      changeClass(\"fade-in\");\r\n    }, 100);\r\n  };\r\n\r\n  const rotate = async (e, magnitude, pivotPointx, pivotPointy, direction) => { //direction: true = ccw, false = cw\r\n    magnitude = Number(magnitude.slice(0, -1))\r\n    pivotPointx = Number(pivotPointx)\r\n    pivotPointy = Number(pivotPointy)\r\n    let currentPlayerPosition = playerAcceptablePositionsArray[playerAcceptablePositionsArray.length-1]\r\n    let newPlayerPosition = mathFunctions.rotate(currentPlayerPosition, magnitude, pivotPointx, pivotPointy, direction)\r\n    playerPositionsArray.push(newPlayerPosition)\r\n    playerAcceptablePositionsArray.push(newPlayerPosition)\r\n    await changeClass(\"fade-out\");\r\n    await setTimeout(() => {\r\n      setPlayerPosition(newPlayerPosition);\r\n      changeClass(\"fade-in\");\r\n    }, 100);\r\n  };\r\n\r\n\r\n\r\n  const moveBack_shakeVertical = async () => {\r\n    playerAcceptablePositionsArray.pop();\r\n    await setPlayerPosition(\r\n      playerAcceptablePositionsArray[playerAcceptablePositionsArray.length - 1]\r\n    );\r\n    changeClass(\"shake-vertical\");\r\n  };\r\n\r\n  const moveBack_shakeHorizontal = async () => {\r\n    playerAcceptablePositionsArray.pop();\r\n    await setPlayerPosition(\r\n      playerAcceptablePositionsArray[playerAcceptablePositionsArray.length - 1]\r\n    );\r\n    changeClass(\"shake-horizontal\");\r\n  };\r\n\r\n  const handleChange = e => {\r\n    let name = e.target.name\r\n    transformFunctions[name](e.target.value)\r\n  };\r\n\r\n  const LevelCheck = (props) => {\r\n    if (online) {\r\n      props.postRun(true)\r\n    }\r\n    return (\r\n      <div id=\"winner\">\r\n        <span>Portal Locked! <br />\r\n        You Win</span>\r\n        <button \r\n          id=\"restartBtn\" \r\n          key=\"restart\" \r\n          name=\"restart\" \r\n          className=\"levelCheckBtn\" \r\n          onClick={props.handleReset}\r\n        >\r\n          Restart\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const shapeCompsObj = {\r\n    circle: Circle,\r\n    square: Square,\r\n    triangle: Triangle,\r\n    rectangle: Rectangle,\r\n    star: Star\r\n    // heart: Heart\r\n  };\r\n  const ShapeComp = shapeCompsObj[shape];\r\n  const playerComp = (\r\n    <ShapeComp\r\n      moveBack_shakeVertical={moveBack_shakeVertical}\r\n      moveBack_shakeHorizontal={moveBack_shakeHorizontal}\r\n      shapeInfo={player}\r\n      anchorDotSize={9}\r\n    />\r\n  );\r\n  const targetComp = (\r\n    <ShapeComp\r\n      moveBack_shakeVertical={moveBack_shakeVertical}\r\n      moveBack_shakeHorizontal={moveBack_shakeHorizontal}\r\n      shapeInfo={target}\r\n      anchorDotSize={9}\r\n    />\r\n  );\r\n\r\n\r\n  async function postAttempt() {\r\n    const attemptBody = {\r\n      playerId: user.id,\r\n      levelId: currentLevel,\r\n      StartPosition: JSON.stringify(playerPositionsArray[0]),\r\n      TargetPosition: JSON.stringify(targetPosition)\r\n    }\r\n    const attemptJson = await fetchJson(\"Attempts\", \"POST\", attemptBody);\r\n    setAttempt(attemptJson.id);\r\n  }\r\n\r\n  async function postRun(success=false) {\r\n    const callStackFunctions = callStackComps.map(v => {\r\n      return v.props.desc;\r\n    });\r\n    const runBody = {\r\n      AttemptId: attempt,\r\n      Functions: JSON.stringify(callStackFunctions),\r\n      PlayerPositions: JSON.stringify(playerPositionsArray),\r\n      PlayerAcceptablePositions: JSON.stringify(playerAcceptablePositionsArray),\r\n      score: score,\r\n      success: success\r\n    }\r\n    await fetchJson(\"FunctionsRuns\", \"POST\", runBody);\r\n  }\r\n\r\n  function addToStack(image, desc, fx, para) {\r\n\r\n    if (callStackComps.length < 10) {\r\n      setCounter(prevCounter => prevCounter + 1)\r\n      let newComp = \r\n      <CallCard\r\n      image={image}\r\n      fx={fx}\r\n      para = {para}\r\n      desc = {desc}\r\n      id={counter}\r\n      key={counter} />;\r\n      setCallStackComps((prev) => [...prev, newComp])\r\n    } else {\r\n      alert(\"Too many actions in callstack. Consider removing some.\")\r\n    }\r\n  }\r\n\r\n  const runStack = async () => {\r\n    \r\n    if (online && callStackComps.length > 0) {\r\n      await postRun(false);\r\n    }\r\n\r\n    // maybe try recursive function?\r\n    const recursiveFunc = async (array) => {\r\n      if (array.length > 0) {\r\n        await array[0].props.fx(...array[0].props.para)\r\n        let newArr = [...array]\r\n        newArr.shift(0)\r\n        setCallStackComps(newArr)\r\n        setTimeout(() => {\r\n          recursiveFunc(newArr)\r\n        }, 1000)\r\n      }\r\n    }\r\n    recursiveFunc(callStackComps)\r\n  }\r\n\r\n  function clearStack() {\r\n    setCallStackComps([])\r\n  }\r\n\r\n  async function resetPlayer() {\r\n    setPlayerPosition(playerPositionsArray[0]);\r\n    setPlayerPositionsArray(prev => [prev[0]])\r\n    setPlayerAcceptablePositionsArray(prev => [prev[0]])\r\n    clearStack();\r\n    \r\n    if (online) {\r\n      await postAttempt();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      {isSignedIn || \r\n        <Login\r\n          setIsSignedIn = {setIsSignedIn}\r\n          setUser = {setUser}\r\n          setCurrentLevel = {setCurrentLevel}\r\n          online = {online}\r\n          setOnline = {setOnline}\r\n        />\r\n      }\r\n      {isSignedIn && \r\n        <Menu\r\n          setIsSignedIn = {setIsSignedIn}\r\n          handleRestart = {resetPlayer}\r\n          setUser = {setUser}\r\n          user = {user}\r\n          online = {online}\r\n        />\r\n      }\r\n      <div className=\"canvasWrapper\">\r\n        <Grid />\r\n        {targetComp}\r\n        {playerComp}\r\n      </div>\r\n      <div className=\"controllerWrapper\">\r\n        <Sideboard\r\n          translate={translate}\r\n          rotate={rotate}\r\n          reflect={reflect}\r\n          handleChange={handleChange}\r\n          translationFactor={translationFactor}\r\n          pivotPointx={pivotPointx}\r\n          pivotPointy={pivotPointy}\r\n          rotationMag={rotationMag}\r\n          lineOfReflection={lineOfReflection}\r\n          addToStack={addToStack}\r\n          key=\"sideboard\"\r\n        />\r\n        <CallStack\r\n          callStackComps={callStackComps}\r\n          clearStack={clearStack}\r\n          runStack = {runStack}\r\n        />\r\n      </div>\r\n      {(JSON.stringify(playerPosition) === JSON.stringify(targetPosition)) &&\r\n        <LevelCheck \r\n          handleReset={resetPlayer}\r\n          postRun={postRun}\r\n        />\r\n      }\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Game key=\"Game\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}